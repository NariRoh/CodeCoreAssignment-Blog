<div class="likes">
  <% if user_signed_in? && can?(:like, @post) %>
    <% if @post.liked_by?(current_user) %>
      <%= link_to like_path(@post.like_for(current_user)), method: :delete do %>
        <i class="fa fa-heart" aria-hidden="true"></i>
      <% end %>
    <% else %>
      <%= link_to post_likes_path(@post), method: :post do %>
        <i class="fa fa-heart-o" aria-hidden="true"></i>
      <% end %>
    <% end %>
  <% elsif cannot?(:like, @post) %>
    <i class="fa fa-heart-o" aria-hidden="true"></i>
  <% end %>
  <h4><%= @post.likes_count if @post.likes_count > 0 %></h4>
</div>
